{
  "title": "Image Streams",
  "cells": [
    {
      "type": "text",
      "data": "<div><h1 style=\"box-sizing: border-box; font-size: 28px; margin: 20px 0px 10px; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">Practice<span style=\"font-weight: 300;\"> from&nbsp;<a href=\"https://blog.openshift.com/image-streams-faq/\" style=\"font-size: 13px; font-family: -apple-system, Helvetica, Arial, sans-serif;\">https://blog.openshift.com/image-streams-faq/</a></span></h1><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">In this section we will walk through the exercise of creating an Image Stream like the one shown in&nbsp;<a href=\"https://blog.openshift.com/image-streams-faq/#picture1\" style=\"box-sizing: border-box; color: rgb(34, 117, 180); text-decoration: none;\">Pic. 1</a>. Per the diagram, this Image Stream points to two external images (Image Stream Tags&nbsp;<em style=\"box-sizing: border-box;\">3.5</em>&nbsp;and&nbsp;<em style=\"box-sizing: border-box;\">3.6</em>). After that, we’ll create a&nbsp;<em style=\"box-sizing: border-box;\">latest</em>&nbsp;Image Stream Tag pointing to another Image Stream Tag within the same Image Stream (<em style=\"box-sizing: border-box;\">3.6</em>). If you want to go even further, you can then work out how to create internal Image Stream Tag on your own!.</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><a name=\"import\" style=\"box-sizing: border-box; color: rgb(34, 117, 180);\"></a></p><h3 style=\"box-sizing: border-box; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; margin-top: 40px; margin-bottom: 10px; font-size: 21px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">1. How do I create an Image Stream from an existing image?</h3><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">To create a new Image Stream named “python” with a single tag pointing to&nbsp;<em style=\"box-sizing: border-box;\">3.5</em>,<br style=\"box-sizing: border-box;\">one needs to invoke following command:</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc import-image python:3.5 --from=centos/python-35-centos7 --confirm"
    },
    {
      "type": "text",
      "data": "<div><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">Let us break this command into pieces:</p><ul style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><li style=\"box-sizing: border-box;\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">python:3.5</code>&nbsp;–&nbsp;<em style=\"box-sizing: border-box;\">python</em>&nbsp;is the new Image Stream that will be created as a result of this invocation. Additionally we are explicitly pointing that the imported image will be kept under the&nbsp;<em style=\"box-sizing: border-box;\">3.5</em>&nbsp;Image Stream Tag of that Image Stream. If no tag part is specified the command will use&nbsp;<em style=\"box-sizing: border-box;\">latest</em>.</li><li style=\"box-sizing: border-box;\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code>--from=centos/python-35-centos7&nbsp;– states what external image the Image Stream Tag will point to.</li><li style=\"box-sizing: border-box;\">--confirm&nbsp;– informs the system that the python Image Stream should be created, if this is omitted and there is no python Image Stream, you will be presented with an error message.</li></ul><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">At any point in time if you want to re-import the Image Stream, either entirely or just a single tag, use&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc import-image</code>&nbsp;and pass the name of the entire Image Stream or just a particular Image Stream Tag (like&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">python:3.5</code>&nbsp;in the above example).</p><h3 style=\"box-sizing: border-box; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; margin-top: 40px; margin-bottom: 10px; font-size: 21px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">2. How do I get information about Image Streams?</h3><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc describe</code>&nbsp;is the universal way of getting a user-readable information about any object in the OpenShift cluster. This will give you general information about the Image Stream and detailed information about all the tags it is pointing to. In our example from the previous question we would invoke:</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc describe is/python"
    },
    {
      "type": "text",
      "data": "<div><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">to get all the information available about entire Image Stream,</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc describe istag/python:latest"
    },
    {
      "type": "text",
      "data": "<div><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">to get all the information available about particular Image Stream Tag.</p><h3 style=\"box-sizing: border-box; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; margin-top: 40px; margin-bottom: 10px; font-size: 21px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">3. How do I add more tags to the current Image Stream?</h3><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">To add a&nbsp;<em style=\"box-sizing: border-box;\">latest</em>&nbsp;tag that points to one of the existing tags, you can use the&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc tag</code>&nbsp;command:</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc tag python:3.5 python:latest"
    },
    {
      "type": "text",
      "data": "<div><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">Examining the&nbsp;<em style=\"box-sizing: border-box;\">python</em>&nbsp;ImageStream with&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc describe</code>&nbsp;should assure us that we have exactly two tags, one (<em style=\"box-sizing: border-box;\">3.5</em>) pointing at the external docker image and another one (<em style=\"box-sizing: border-box;\">latest</em>) pointing to a different tag in the same Image Stream.</p><h3 style=\"box-sizing: border-box; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; margin-top: 40px; margin-bottom: 10px; font-size: 21px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">4. How do I add a tag pointing to an external image?</h3><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">All tag-related operations are performed using&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc tag</code>&nbsp;command, and adding tags pointing to internal or external images is not any different:</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc tag docker.io/python:3.6.0 python:3.6"
    },
    {
      "type": "text",
      "data": "<div><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">This command maps the docker.io/python:3.6.0 image to the&nbsp;<em style=\"box-sizing: border-box;\">3.6</em>&nbsp;tag in our python Image Stream. In the case when the external image is secured, you will need to create a Secret with credentials for accessing that registry. See&nbsp;<a href=\"https://docs.openshift.org/latest/dev_guide/managing_images.html#private-registries\" style=\"box-sizing: border-box; color: rgb(34, 117, 180); text-decoration: none;\">our documentation</a>&nbsp;for more details.</p><h3 style=\"box-sizing: border-box; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; margin-top: 40px; margin-bottom: 10px; font-size: 21px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">5. How do I update the current tag?</h3><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">We have just updated our Image Stream with a new tag and now we want to update the&nbsp;<em style=\"box-sizing: border-box;\">latest</em>&nbsp;tag to reflect the newer&nbsp;<em style=\"box-sizing: border-box;\">3.6</em>&nbsp;tag in our Image Stream. Not surprisingly, we are going to use&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc tag</code>&nbsp;once again:</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc tag python:3.6 python:latest"
    },
    {
      "type": "text",
      "data": "<div><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code><br style=\"box-sizing: border-box;\"><a name=\"scheduled\" style=\"box-sizing: border-box; color: rgb(34, 117, 180);\"></a></p><h3 style=\"box-sizing: border-box; font-family: 'Open Sans', Helvetica, Arial, sans-serif; color: black; margin-top: 40px; margin-bottom: 10px; font-size: 21px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">6. How can I tell the system to periodically import my tag?</h3><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">When we are working with an external registry, we would like to be able to periodically re-import the image to get latest security updates, etc. To do so we will use a&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">--scheduled</code>&nbsp;flag for the&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\">oc tag</code>&nbsp;command like so:</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; line-height: 1.6; color: rgb(84, 84, 84); font-family: 'Open Sans', Helvetica, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\"><code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(204, 0, 0); background-color: rgb(249, 242, 244); border-radius: 4px;\"></code></p></div>"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "oc tag docker.io/python:3.6.0 python:3.6 --scheduled"
    },
    {
      "type": "code",
      "language": "sh",
      "data": "This will inform the system that this particular Image Stream Tag should be periodically checked for updates. Currently, this period is a cluster-wide setting, and by default, it is set to 15 minutes.\n\nOnly an Image Stream Tag pointing to an external docker registry can be periodically checked for updates.\n\nTo remove the periodical check, re-run above command but omit the --scheduled flag. This will reset its behavior to default.\n\n7. How do I remove a tag from an Image Stream?\nEventually, you will want to remove old tags from your Image Stream, and yet again we are going to use oc tagfor that particular use case:\n\noc tag -d python:3.5\n"
    }
  ]
}